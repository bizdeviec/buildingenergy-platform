<div class="section_header_container">
    <div class="section_header">
        <h2><i class="fa fa-asterisk"></i> Extra Data</h2>
    </div>
</div>
<div class="section_content_container">
    <div class="section_content">
        <div class="table_list_container">
            <table class="table table-striped table_highlight_first">
                <thead>
                    <tr>
                        <th>Field</th>
                        <th>Master</th>
                        <th ng-repeat="i in imported_buildings">{$ i.import_file_name $}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="f in extra_data_columns | orderBy:'toString()'" ng-if="is_valid_key(f)">
                        <td>{$ f $}</td>
                        <td>
                            <span ng-hide="building.edit_form_showing">{$ building.extra_data[f] $}</span>
                            <div ng-show="building.edit_form_showing">
                                <input class="form-control input-sm" id="edit_tax_lot_id" type="text" name="tax_lot_id" ng-model="building.extra_data[f]" ng-change="set_self_as_source(f,true)"/>
                            </div>
                        </td>
                        <td ng-repeat="i in imported_buildings" ng-class="{'is_not_master': building.extra_data_sources[f] != i.id && building.edit_form_showing, 'is_master':building.extra_data_sources[f] == i.id && building.edit_form_showing }">
                            <span ng-hide="building.edit_form_showing">{$ i.extra_data[f] $}</span>
                            <a href="javascript:void(0);" ng-show="building.edit_form_showing && i.extra_data[f]" ng-click="set_building_attribute(i, f, true)">
                               <span>{$ i.extra_data[f] $}</span>
                            </a>
                        </td>
                    </tr>
                    
                </tbody>
            </table>
        </div>
        <div class="table_footer" ng-show="building.edit_form_showing">
            <div class="col-sm-12" ng-show="building.edit_form_showing">
                <div class="pull-right">
                    <a roll="button" class="btn btn-default btn-sm" href="javascript:void(0);" ng-click="building.edit_form_showing = false; restore_building()" >Cancel</a>
                    <a roll="button" class="btn btn-primary btn-sm" href="javascript:void(0);" ng-click="building.edit_form_showing = false; save_building()" ng-disabled="building_form.$invalid">Save</a>
                </div>
            </div>
        </div>
    </div>
</div>
